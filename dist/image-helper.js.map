{"version":3,"file":"image-helper.js","sourceRoot":"","sources":["../src/image-helper.ts"],"names":[],"mappings":";;AAAA,0DAAiD;AACjD,mCAAgC;AAGhC,MAAa,WAAW;IAKpB,gBAAwB,CAAC;IAGlB,MAAM,CAAC,eAAe,CAAC,OAAe;QAEzC,mBAAK,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;QAC5D,OAAO,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC;QAEzB,MAAM,QAAQ,GAAa,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAI9C,OAAO,eAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IAa9C,CAAC;CACJ;AA/BD,kCA+BC","sourcesContent":["import { given } from \"@nivinjoseph/n-defensive\";\nimport { Buffer } from \"buffer\";\n\n\nexport class ImageHelper\n{\n    /**\n     * @static\n     */\n    private constructor() { }\n    \n    \n    public static dataUrlToBuffer(dataUrl: string): Buffer\n    {\n        given(dataUrl, \"dataUrl\").ensureHasValue().ensureIsString();\n        dataUrl = dataUrl.trim();\n        \n        const splitted: string[] = dataUrl.split(\",\");\n        // fi.fileMime = splitted[0].trim().split(\";\")[0].substr(5);\n        // fi.fileData = splitted[1];\n        \n        return Buffer.from(splitted[1], \"base64\");\n        \n        \n        \n        // alternative from https://stackoverflow.com/questions/11335460/how-do-i-parse-a-data-url-in-node\n        // var fs = require('fs');\n        // var string = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\";\n        // var regex = /^data:.+\\/(.+);base64,(.*)$/;\n\n        // var matches = string.match(regex);\n        // var ext = matches[1];\n        // var data = matches[2];\n        // var buffer = new Buffer(data, 'base64');\n    }\n}"]}